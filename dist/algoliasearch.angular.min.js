/*! algoliasearch 3.2.1 | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
(function(g){var f;"undefined"!==typeof window?f=window:"undefined"!==typeof self&&(f=self);f.ALGOLIA_MIGRATION_LAYER=g()})(function(){return function f(b,k,c){function a(d,m){if(!k[d]){if(!b[d]){var p="function"==typeof require&&require;if(!m&&p)return p(d,!0);if(h)return h(d,!0);p=Error("Cannot find module '"+d+"'");throw p.code="MODULE_NOT_FOUND",p;}p=k[d]={exports:{}};b[d][0].call(p.exports,function(c){var e=b[d][1][c];return a(e?e:c)},p,p.exports,f,b,k,c)}return k[d].exports}for(var h="function"==
typeof require&&require,d=0;d<c.length;d++)a(c[d]);return a}({1:[function(f,b,k){function c(d,a){for(var c in a)d.setAttribute(c,a[c])}function a(d,a){d.onload=function(){this.onerror=this.onload=null;a(null,d)};d.onerror=function(){this.onerror=this.onload=null;a(Error("Failed to load "+this.src),d)}}function h(d,a){d.onreadystatechange=function(){if("complete"==this.readyState||"loaded"==this.readyState)this.onreadystatechange=null,a(null,d)}}b.exports=function(d,b,m){var k=document.head||document.getElementsByTagName("head")[0],
f=document.createElement("script");"function"===typeof b&&(m=b,b={});b=b||{};m=m||function(){};f.type=b.type||"text/javascript";f.charset=b.charset||"utf8";f.async="async"in b?!!b.async:!0;f.src=d;b.attrs&&c(f,b.attrs);b.text&&(f.text=""+b.text);("onload"in f?a:h)(f,m);f.onload||a(f,m);k.appendChild(f)}},{}],2:[function(f,b,k){b.exports=function(c){c=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+c.replace(".","\\.")+"(?:\\.min)?\\.js$");for(var a=document.getElementsByTagName("script"),
h=!1,d=0,b=a.length;d<b;d++)if(a[d].src&&c.test(a[d].src)){h=!0;break}return h}},{}],3:[function(f,b,k){(function(c){function a(a){return function(){var d="AlgoliaSearch: loaded V2 script using "+a;c.console&&c.console.log&&c.console.log(d)}}b.exports=function(h){var d=f(1);h="//cdn.jsdelivr.net/algoliasearch/2/"+h+".min.js";c.console&&(c.console.warn?c.console.warn("-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --"):
c.console.log&&c.console.log("-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --"));
try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true\x3c/script>"),!0===c.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+h+'">\x3c/script>'),a("document.write")()):d(h,a("DOMElement"))}catch(b){d(h,a("DOMElement"))}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{1:1}],4:[function(f,b,k){(function(c){b.exports=function(){c.AlgoliaSearch=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");
};c.AlgoliaSearchHelper=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");};AlgoliaExplainResults=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");
}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],5:[function(f,b,k){b=f(2);k=f(3);f=f(4);b("algoliasearch.angular")?k("algoliasearch.angular"):f()},{2:2,3:3,4:4}]},{},[5])(5)});
(function e$$0(f,b,k){function c(d,h){if(!b[d]){if(!f[d]){var m="function"==typeof require&&require;if(!h&&m)return m(d,!0);if(a)return a(d,!0);m=Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m;}m=b[d]={exports:{}};f[d][0].call(m.exports,function(a){var h=f[d][1][a];return c(h?h:a)},m,m.exports,e$$0,f,b,k)}return b[d].exports}for(var a="function"==typeof require&&require,h=0;h<k.length;h++)c(k[h]);return c})({1:[function(g,f,b){function k(){if(!h){h=!0;for(var d,c=a.length;c;){d=
a;a=[];for(var b=-1;++b<c;)d[b]();c=a.length}h=!1}}function c(){}g=f.exports={};var a=[],h=!1;g.nextTick=function(d){a.push(d);h||setTimeout(k,0)};g.title="browser";g.browser=!0;g.env={};g.argv=[];g.version="";g.versions={};g.on=c;g.addListener=c;g.once=c;g.off=c;g.removeListener=c;g.removeAllListeners=c;g.emit=c;g.binding=function(d){throw Error("process.binding is not supported");};g.cwd=function(){return"/"};g.chdir=function(d){throw Error("process.chdir is not supported");};g.umask=function(){return 0}},
{}],2:[function(g,f,b){f.exports=function(c,a,h,d){h=h||"=";var b={};if("string"!==typeof c||0===c.length)return b;var m=/\+/g;c=c.split(a||"&");a=1E3;d&&"number"===typeof d.maxKeys&&(a=d.maxKeys);d=c.length;0<a&&d>a&&(d=a);for(a=0;a<d;++a){var f=c[a].replace(m,"%20"),g=f.indexOf(h),e;0<=g?(e=f.substr(0,g),f=f.substr(g+1)):(e=f,f="");e=decodeURIComponent(e);f=decodeURIComponent(f);Object.prototype.hasOwnProperty.call(b,e)?k(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f}return b};var k=Array.isArray||function(c){return"[object Array]"===
Object.prototype.toString.call(c)}},{}],3:[function(g,f,b){function k(d,a){if(d.map)return d.map(a);for(var c=[],b=0;b<d.length;b++)c.push(a(d[b],b));return c}var c=function(d){switch(typeof d){case "string":return d;case "boolean":return d?"true":"false";case "number":return isFinite(d)?d:"";default:return""}};f.exports=function(d,b,f,g){b=b||"&";f=f||"=";null===d&&(d=void 0);return"object"===typeof d?k(h(d),function(h){var e=encodeURIComponent(c(h))+f;return a(d[h])?k(d[h],function(l){return e+
encodeURIComponent(c(l))}).join(b):e+encodeURIComponent(c(d[h]))}).join(b):g?encodeURIComponent(c(g))+f+encodeURIComponent(c(d)):""};var a=Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)},h=Object.keys||function(d){var a=[],c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&a.push(c);return a}},{}],4:[function(g,f,b){b.decode=b.parse=g(2);b.encode=b.stringify=g(3)},{2:2,3:3}],5:[function(g,f,b){function k(){var a;try{a=c.debug}catch(d){}return a}b=f.exports=
g(6);b.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};b.formatArgs=function(){var a=arguments,d=this.useColors;a[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+a[0]+(d?"%c ":" ")+"+"+b.humanize(this.diff);if(!d)return a;var d="color: "+this.color,a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1)),c=0,f=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(c++,"%c"===a&&(f=c))});a.splice(f,0,d);return a};b.save=function(a){try{null==
a?c.removeItem("debug"):c.debug=a}catch(d){}};b.load=k;b.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var c;if("undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage)c=chrome.storage.local;else a:{try{c=window.localStorage;break a}catch(a){}c=void 0}b.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");
b.formatters.j=function(a){return JSON.stringify(a)};b.enable(k())},{6:6}],6:[function(g,f,b){b=f.exports=function(a){function h(){}function d(){var a=+new Date;d.diff=a-(c||a);d.prev=c;c=d.curr=a;null==d.useColors&&(d.useColors=b.useColors());null==d.color&&d.useColors&&(d.color=b.colors[k++%b.colors.length]);var h=Array.prototype.slice.call(arguments);h[0]=b.coerce(h[0]);"string"!==typeof h[0]&&(h=["%o"].concat(h));var f=0;h[0]=h[0].replace(/%([a-z%])/g,function(e,l){if("%%"===e)return e;f++;var a=
b.formatters[l];"function"===typeof a&&(e=a.call(d,h[f]),h.splice(f,1),f--);return e});"function"===typeof b.formatArgs&&(h=b.formatArgs.apply(d,h));(d.log||b.log||console.log.bind(console)).apply(d,h)}h.enabled=!1;d.enabled=!0;var f=b.enabled(a)?d:h;f.namespace=a;return f};b.coerce=function(a){return a instanceof Error?a.stack||a.message:a};b.disable=function(){b.enable("")};b.enable=function(a){b.save(a);for(var c=(a||"").split(/[\s,]+/),d=c.length,f=0;f<d;f++)c[f]&&(a=c[f].replace(/\*/g,".*?"),
"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$")))};b.enabled=function(a){var c,d;c=0;for(d=b.skips.length;c<d;c++)if(b.skips[c].test(a))return!1;c=0;for(d=b.names.length;c<d;c++)if(b.names[c].test(a))return!0;return!1};b.humanize=g(7);b.names=[];b.skips=[];b.formatters={};var k=0,c},{7:7}],7:[function(g,f,b){function k(a){if(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a)){var c=
parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*c;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*c;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*c;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return c}}}function c(a,c,d){if(!(a<c))return a<
1.5*c?Math.floor(a/c)+" "+d:Math.ceil(a/c)+" "+d+"s"}f.exports=function(a,b){b=b||{};return"string"==typeof a?k(a):b.long?c(a,864E5,"day")||c(a,36E5,"hour")||c(a,6E4,"minute")||c(a,1E3,"second")||a+" ms":864E5<=a?Math.round(a/864E5)+"d":36E5<=a?Math.round(a/36E5)+"h":6E4<=a?Math.round(a/6E4)+"m":1E3<=a?Math.round(a/1E3)+"s":a+"ms"}},{}],8:[function(g,f,b){var k=Object.prototype.hasOwnProperty,c=Object.prototype.toString,a=g(9),h=function(a){if(!a||"[object Object]"!==c.call(a))return!1;var b=k.call(a,
"constructor"),f=a.constructor&&a.constructor.prototype&&k.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!f)return!1;for(var h in a);return void 0===h||k.call(a,h)};f.exports=function u(){var c,b,f,e,l,n=arguments[0],w=1,k=arguments.length,r=!1;if("boolean"===typeof n)r=n,n=arguments[1]||{},w=2;else if("object"!==typeof n&&"function"!==typeof n||null==n)n={};for(;w<k;++w)if(c=arguments[w],null!=c)for(b in c)f=n[b],e=c[b],n!==e&&(r&&e&&(h(e)||(l=a(e)))?(l?(l=!1,f=f&&a(f)?f:[]):
f=f&&h(f)?f:{},n[b]=u(r,f,e)):void 0!==e&&(n[b]=e));return n}},{9:9}],9:[function(g,f,b){f.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],10:[function(g,f,b){var k=Object.prototype.hasOwnProperty,c=Object.prototype.toString;f.exports=function(a,b,d){if("[object Function]"!==c.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;g<f;g++)b.call(d,a[g],g,a);else for(g in a)k.call(a,g)&&b.call(d,a[g],g,a)}},
{}],11:[function(g,f,b){f.exports="function"===typeof Object.create?function(b,c){b.super_=c;b.prototype=Object.create(c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})}:function(b,c){b.super_=c;var a=function(){};a.prototype=c.prototype;b.prototype=new a;b.prototype.constructor=b}},{}],12:[function(g,f,b){(function(b){function c(a){if(!b.localStorage)return!1;a=b.localStorage[a];return null==a?!1:"true"===String(a).toLowerCase()}f.exports=function(a,b){if(c("noDeprecation"))return a;
var d=!1;return function(){if(!d){if(c("throwDeprecation"))throw Error(b);c("traceDeprecation")?console.trace(b):console.warn(b);d=!0}return a.apply(this,arguments)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],13:[function(g,f,b){(function(b){function c(e,l,n){var b=g(8);if(!e)throw Error("algoliasearch: Please provide an application ID. Usage: algoliasearch(applicationID, apiKey, opts)");if(!l)throw Error("algoliasearch: Please provide an API key. Usage: algoliasearch(applicationID, apiKey, opts)");
this.applicationID=e;this.apiKey=l;e=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]};this.hostIndex={read:0,write:0};n=n||{};l=n.protocol||"https:";var c=void 0===n.timeout?2E3:n.timeout;/:$/.test(l)||(l+=":");if("http:"!==n.protocol&&"https:"!==n.protocol)throw Error("algoliasearch: protocol must be `http:` or `https:` (was `"+n.protocol+"`)");n.hosts?(this.hosts.read=b([],n.hosts),this.hosts.write=
b([],n.hosts)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(e),this.hosts.write=[this.applicationID+".algolia.net"].concat(e));this.hosts.read=a(this.hosts.read,h(l));this.hosts.write=a(this.hosts.write,h(l));this.requestTimeout=c;this.extraHeaders=[];this.cache={};this._ua=n._ua;this._useCache=void 0===n._useCache?!0:n._useCache;this._setTimeout=n._setTimeout;p("init done, %j",this)}function a(e,l){for(var a=[],b=0;b<e.length;++b)a.push(l(e[b],b));return a}function h(e){return function(l){return e+
"//"+l.toLowerCase()}}function d(){throw Error("algoliasearch: Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com");}function u(e,l){var a=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+l+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+a}function m(e,l){l(e,0)}f.exports=c;"development"===b.env.NODE_ENV&&g(5).enable("algoliasearch*");var p=g(5)("algoliasearch:AlgoliaSearch");
b=g(12);var q=g(10);c.prototype={deleteIndex:function(e,l){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:l})},moveIndex:function(e,l,a){l={operation:"move",destination:l};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:l,hostType:"write",callback:a})},copyIndex:function(e,l,a){l={operation:"copy",destination:l};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+
"/operation",body:l,hostType:"write",callback:a})},getLogs:function(e,l,a){if(0===arguments.length||"function"===typeof e)a=e,e=0,l=10;else if(1===arguments.length||"function"===typeof l)a=l,l=10;return this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+l,hostType:"read",callback:a})},listIndexes:function(e,a){var b="";void 0===e||"function"===typeof e?a=e:b="?page="+e;return this._jsonRequest({method:"GET",url:"/1/indexes"+b,hostType:"read",callback:a})},initIndex:function(e){return new this.Index(this,
e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,a){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:a})},deleteUserKey:function(e,a){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:a})},addUserKey:function(e,a,b){if(1===arguments.length||"function"===typeof a)b=a,a=null;var c={acl:e};a&&(c.validity=a.validity,c.maxQueriesPerIPPerHour=a.maxQueriesPerIPPerHour,
c.maxHitsPerQuery=a.maxHitsPerQuery,c.indexes=a.indexes);return this._jsonRequest({method:"POST",url:"/1/keys",body:c,hostType:"write",callback:b})},addUserKeyWithValidity:b(function(e,a,b){return this.addUserKey(e,a,b)},u("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(e,a,b,c){if(2===arguments.length||"function"===typeof b)c=b,b=null;var d={acl:a};b&&(d.validity=b.validity,d.maxQueriesPerIPPerHour=b.maxQueriesPerIPPerHour,d.maxHitsPerQuery=b.maxHitsPerQuery,d.indexes=
b.indexes);return this._jsonRequest({method:"PUT",url:"/1/keys/"+e,body:d,hostType:"write",callback:c})},setSecurityTags:function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var a=[],b=0;b<e.length;++b)if("[object Array]"===Object.prototype.toString.call(e[b])){for(var c=[],d=0;d<e[b].length;++d)c.push(e[b][d]);a.push("("+c.join(",")+")")}else a.push(e[b]);e=a.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:b(function(){this._batch=[]},
u("client.startQueriesBatch()","client.search()")),addQueryInBatch:b(function(e,a,b){this._batch.push({indexName:e,query:a,params:b})},u("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:b(function(e){return this.search(this._batch,e)},u("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){e&&(this.requestTimeout=parseInt(e,10))},search:function(e,b){var c=this,d={requests:a(e,function(e){var a="";void 0!==e.query&&(a+="query="+
encodeURIComponent(e.query));return{indexName:e.indexName,params:c._getSearchParams(e.params,a)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:d,hostType:"read",callback:b})},destroy:d,enableRateLimitForward:d,disableRateLimitForward:d,useSecuredAPIKey:d,disableSecuredAPIKey:d,generateSecuredApiKey:d,Index:function(e,a){this.indexName=a;this.as=e;this.typeAheadValueOption=this.typeAheadArgs=null;this.cache={}},setExtraHeader:function(e,a){this.extraHeaders.push({name:e.toLowerCase(),
value:a})},_sendQueriesBatch:function(e,a){return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:function(){for(var a="",b=0;b<e.requests.length;++b)var c="/1/indexes/"+encodeURIComponent(e.requests[b].indexName)+"?"+e.requests[b].params,a=a+(b+"="+encodeURIComponent(c)+"&");return a}()}},callback:a})},_jsonRequest:function(e){function a(g,m){function v(){f.hostIndex[e.hostType]=++f.hostIndex[e.hostType]%
f.hosts[e.hostType].length;h+=1;m.timeout=f.requestTimeout*(h+1);return a(g,m)}if(f._useCache&&c&&void 0!==c[d])return b("serving response from cache, body: %j",c[d]),f._promise.resolve(c[d]);if(h>=f.hosts[e.hostType].length){if(!e.fallback||!f._request.fallback||k)return f._promise.reject(Error("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue."));h=0;m.method=e.fallback.method;m.url=e.fallback.url;m.body=e.fallback.body;m.timeout=f.requestTimeout*
(h+1);f.hostIndex[e.hostType]=0;k=f.useFallback=!0;return a(f._request.fallback,m)}b("request: %j",m);return g.call(f,f.hosts[e.hostType][f.hostIndex[e.hostType]]+m.url,{body:m.body,method:m.method,headers:f._computeRequestHeaders(),timeout:m.timeout}).then(function(e){if(e instanceof Error)return b("error: %s",e.message),v();b("response: %j",e);var a=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200,l=200===a||201===a,a=!l&&4!==Math.floor(a/100)&&1!==Math.floor(a/100);f._useCache&&
l&&c&&(c[d]=e.body);return l?e.body:a?v():f._promise.reject(Error(e.body&&e.body.message||"Unknown error"))},function(c){b("error: %s, stack: %s",c.message,c.stack);f.useFallback?(f.hostIndex[e.hostType]=++f.hostIndex[e.hostType]%f.hosts[e.hostType].length,h+=1):h=f.hosts[e.hostType].length;return a(g,m)})}var b=g(5)("algoliasearch:AlgoliaSearch:_jsonRequest:"+e.url);b("start: body: %j",e.body);var c=e.cache,d,f=this,h=0,k=!1;f._useCache&&(d=e.url);f._useCache&&void 0!==e.body&&(d+="_body_"+JSON.stringify(e.body));
void 0!==e.cache&&b("Will use cache if any");var v=f.useFallback&&e.fallback,p=v?e.fallback:e,v=a(v?f._request.fallback:f._request,{url:p.url,method:p.method,body:p.body,timeout:f.requestTimeout*(h+1)});if(e.callback)v.then(function(a){m(function(){e.callback(null,a)},f._setTimeout||setTimeout)},function(a){m(function(){e.callback(a)},f._setTimeout||setTimeout)});else return v},_getSearchParams:function(e,a){if(this._isUndefined(e)||null===e)return a;for(var b in e)null!==b&&e.hasOwnProperty(b)&&
(a+=""===a?"":"&",a+=b+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[b])?JSON.stringify(e[b]):e[b]));return a},_isUndefined:function(a){return void 0===a},_computeRequestHeaders:function(){var a={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-user-agent":this._ua};this.userToken&&(a["x-algolia-usertoken"]=this.userToken);this.securityTags&&(a["x-algolia-tagfilters"]=this.securityTags);this.extraHeaders&&q(this.extraHeaders,function(b){a[b.name]=
b.value});return a}};c.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;return this.as._jsonRequest({method:void 0!==b?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+(void 0!==b?"/"+encodeURIComponent(b):""),body:a,hostType:"write",callback:c})},addObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"addObject",body:a[d]});return this.as._jsonRequest({method:"POST",
url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,hostType:"write",callback:b})},getObject:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var d="";if(void 0!==b)for(var d="?attributes=",f=0;f<b.length;++f)0!==f&&(d+=","),d+=b[f];return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a)+d,hostType:"read",callback:c})},getObjects:function(e,b){var c=this,d={requests:a(e,function(a){return{indexName:c.indexName,
objectID:a}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:d,callback:b})},partialUpdateObject:function(a,b){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a.objectID)+"/partial",body:a,hostType:"write",callback:b})},partialUpdateObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"partialUpdateObject",objectID:a[d].objectID,body:a[d]});return this.as._jsonRequest({method:"POST",
url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,hostType:"write",callback:b})},saveObject:function(a,b){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a.objectID),body:a,hostType:"write",callback:b})},saveObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"updateObject",objectID:a[d].objectID,body:a[d]});return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+
"/batch",body:c,hostType:"write",callback:b})},deleteObject:function(a,b){if("function"===typeof a||"string"!==typeof a&&"number"!==typeof a){var c=Error("Cannot delete an object without an objectID");b=a;return"function"===typeof b?b(c):this.as._promise.reject(c)}return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a),hostType:"write",callback:b})},deleteObjects:function(b,c){var d={requests:a(b,function(a){return{action:"deleteObject",
objectID:a,body:{objectID:a}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:d,hostType:"write",callback:c})},deleteByQuery:function(b,c,d){function f(a){return g.waitTask(a.taskID)}function h(){return g.deleteByQuery(b,c)}var g=this,k=g.as;if(1===arguments.length||"function"===typeof c)d=c,c={};c.attributesToRetrieve="objectID";c.hitsPerPage=1E3;this.clearCache();var p=this.search(b,c).then(function(b){if(0===b.nbHits)return b;b=a(b.hits,
function(a){return a.objectID});return g.deleteObjects(b).then(f).then(h)});if(!d)return p;p.then(function(){m(function(){d(null)},k._setTimeout||setTimeout)},function(a){m(function(){d(a)},k._setTimeout||setTimeout)})},search:function(a,b,c){if("function"===typeof a&&"object"===typeof b||"object"===typeof c)throw Error("algoliasearch: index.search usage is index.search(query, params, cb)");if(0===arguments.length||"function"===typeof a)c=a,a="";else if(1===arguments.length||"function"===typeof b)c=
b,b=void 0;if("object"===typeof a&&null!==a)b=a,a=void 0;else if(void 0===a||null===a)a="";var d="";void 0!==a&&(d+="query="+encodeURIComponent(a));void 0!==b&&(d=this.as._getSearchParams(b,d));return this._search(d,c)},browse:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var d="?page="+a;this.as._isUndefined(b)||(d+="&hitsPerPage="+b);return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse"+d,hostType:"read",callback:c})},
ttAdapter:function(a){var b=this;return function(c,d){b.search(c,a,function(a,b){a?d(a):d(b.hits)})}},waitTask:function(a,b){var c=this,d=c.as,f=this.as._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/task/"+a}).then(function(b){return"published"!==b.status?c.as._promise.delay(100).then(function(){return c.waitTask(a)}):b});if(!b)return f;f.then(function(a){m(function(){b(null,a)},d._setTimeout||setTimeout)},function(a){m(function(){b(a)},d._setTimeout||
setTimeout)})},clearIndex:function(a){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/clear",hostType:"write",callback:a})},getSettings:function(a){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings",hostType:"read",callback:a})},setSettings:function(a,b){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings",hostType:"write",body:a,callback:b})},
listUserKeys:function(a){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",hostType:"read",callback:a})},getUserKeyACL:function(a,b){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,hostType:"read",callback:b})},deleteUserKey:function(a,b){return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,hostType:"write",callback:b})},addUserKey:function(a,
b,c){if(1===arguments.length||"function"===typeof b)c=b,b=null;var d={acl:a};b&&(d.validity=b.validity,d.maxQueriesPerIPPerHour=b.maxQueriesPerIPPerHour,d.maxHitsPerQuery=b.maxHitsPerQuery);return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:d,hostType:"write",callback:c})},addUserKeyWithValidity:b(function(a,b,c){return this.addUserKey(a,b,c)},u("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(a,b,c,d){if(2===
arguments.length||"function"===typeof c)d=c,c=null;var f={acl:b};c&&(f.validity=c.validity,f.maxQueriesPerIPPerHour=c.maxQueriesPerIPPerHour,f.maxHitsPerQuery=c.maxHitsPerQuery);return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,body:f,hostType:"write",callback:d})},_search:function(a,b){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:a},hostType:"read",fallback:{method:"GET",
url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:a}},callback:b})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}}).call(this,g(1))},{1:1,10:10,12:12,5:5,8:8}],14:[function(g,f,b){f.exports=function(b,a,f){function d(){e("success");x||n||(x=!0,l||(e("fail: script loaded but did not call the callback"),m(),f(Error("Failed to load JSONP script"))))}function u(){"loaded"!==this.readyState&&"complete"!==this.readyState||d()}function m(){clearTimeout(y);t.onload=
null;t.onreadystatechange=null;t.onerror=null;w.removeChild(t);try{delete window[r],delete window[r+"_loaded"]}catch(a){window[r]=null,window[r+"_loaded"]=null}}function p(){e("timeout");n=!0;m();f(Error("Timeout - Could not connect to endpoint "+b))}function q(){e("error");x||n||(m(),f(Error("Failed to load JSONP script")))}if("GET"!==a.method)f(Error("Method "+a.method+" "+b+" is not supported by JSONP."));else{var e=g(5)("algoliasearch:JSONP-request:"+b);e("start");var l=!1,n=!1;k+=1;var w=document.getElementsByTagName("head")[0],
t=document.createElement("script"),r="algoliaJSONP_"+k,x=!1;window[r]=function(a){try{delete window[r]}catch(b){window[r]=void 0}n||(l=!0,m(),f(null,{body:a}))};b+="&callback="+r;a.body&&a.body.params&&(b+="&"+a.body.params);var y=setTimeout(p,a.timeout);t.onreadystatechange=u;t.onload=d;t.onerror=q;t.async=!0;t.defer=!0;t.src=b;w.appendChild(t)}};var k=0},{5:5}],15:[function(g,f,b){(function(b){var c=g(11),a=g(13),f=g(17),d=g(14);b.angular.module("algoliasearch",[]).service("algolia",["$http","$q",
"$timeout",function(b,k,p){function q(a,b,c){var d=g(8),f=g(16);c=d(!0,{},c)||{};void 0===c.protocol&&(c.protocol=f());c._ua=q.ua;return new e(a,b,c)}function e(){a.apply(this,arguments)}q.version=g(18);q.ua="Algolia for AngularJS "+q.version;c(e,a);e.prototype._request=function(a,c){return k(function(d,e){var g,q=null;void 0!==c.body&&(q=JSON.stringify(c.body));a=f(a,c.headers);var y=k(function(b){p(function(){g=!0;b("test");d(Error("Timeout - Could not connect to endpoint "+a))},c.timeout)});b({url:a,
method:c.method,data:q,cache:!1,timeout:y}).then(function(a){d({statusCode:a.status,body:a.data})},function(a){g||(0===a.status?e(Error("Network error")):d({body:a.data,statusCode:a.status}))})})};e.prototype._request.fallback=function(a,b){a=f(a,b.headers);return k(function(c,e){d(a,b,function(a,b){a?e(a):c(b)})})};e.prototype._promise={reject:function(a){return k.reject(a)},resolve:function(a){return k.when(a)},delay:function(a){return k(function(b){p(b,a)})}};return{Client:function(a,b,c){return q(a,
b,c)},ua:q.ua,version:q.version}}])}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{11:11,13:13,14:14,16:16,17:17,18:18,8:8}],16:[function(g,f,b){(function(b){f.exports=function(){var c=b.document.location.protocol;"http:"!==c&&"https:"!==c&&(c="http:");return c}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],17:[function(g,f,b){f.exports=function(b,a){b=
/\?/.test(b)?b+"&":b+"?";return b+k.encode(a)};var k=g(4)},{4:4}],18:[function(g,f,b){f.exports="3.2.1"},{}]},{},[15]);
