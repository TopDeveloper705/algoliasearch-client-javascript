/*! algoliasearch 3.4.0 | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
(function(C){var c;"undefined"!==typeof window?c=window:"undefined"!==typeof self&&(c=self);c.ALGOLIA_MIGRATION_LAYER=C()})(function(){return function c(k,f,n){function g(d,h){if(!f[d]){if(!k[d]){var m="function"==typeof require&&require;if(!h&&m)return m(d,!0);if(b)return b(d,!0);m=Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m;}m=f[d]={exports:{}};k[d][0].call(m.exports,function(b){var h=k[d][1][b];return g(h?h:b)},m,m.exports,c,k,f,n)}return f[d].exports}for(var b="function"==
typeof require&&require,h=0;h<n.length;h++)g(n[h]);return g}({1:[function(c,k,f){function n(b,d){for(var g in d)b.setAttribute(g,d[g])}function g(b,d){b.onload=function(){this.onerror=this.onload=null;d(null,b)};b.onerror=function(){this.onerror=this.onload=null;d(Error("Failed to load "+this.src),b)}}function b(b,d){b.onreadystatechange=function(){if("complete"==this.readyState||"loaded"==this.readyState)this.onreadystatechange=null,d(null,b)}}k.exports=function(h,d,c){var m=document.head||document.getElementsByTagName("head")[0],
p=document.createElement("script");"function"===typeof d&&(c=d,d={});d=d||{};c=c||function(){};p.type=d.type||"text/javascript";p.charset=d.charset||"utf8";p.async="async"in d?!!d.async:!0;p.src=h;d.attrs&&n(p,d.attrs);d.text&&(p.text=""+d.text);("onload"in p?g:b)(p,c);p.onload||g(p,c);m.appendChild(p)}},{}],2:[function(c,k,f){k.exports=function(c){c=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+c.replace(".","\\.")+"(?:\\.min)?\\.js$");for(var g=document.getElementsByTagName("script"),
b=!1,h=0,d=g.length;h<d;h++)if(g[h].src&&c.test(g[h].src)){b=!0;break}return b}},{}],3:[function(c,k,f){(function(f){function g(b){return function(){var g="AlgoliaSearch: loaded V2 script using "+b;f.console&&f.console.log&&f.console.log(g)}}k.exports=function(b){var h=c(1);b="//cdn.jsdelivr.net/algoliasearch/2/"+b+".min.js";f.console&&(f.console.warn?f.console.warn("-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --"):
f.console.log&&f.console.log("-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --"));
try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true\x3c/script>"),!0===f.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+b+'">\x3c/script>'),g("document.write")()):h(b,g("DOMElement"))}catch(d){h(b,g("DOMElement"))}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{1:1}],4:[function(c,k,f){(function(c){k.exports=function(){c.AlgoliaSearch=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");
};c.AlgoliaSearchHelper=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");};AlgoliaExplainResults=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");
}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],5:[function(c,k,f){k=c(2);f=c(3);c=c(4);k("algoliasearch")?f("algoliasearch"):c()},{2:2,3:3,4:4}]},{},[5])(5)});
(function(C){"object"===typeof exports&&"undefined"!==typeof module?module.exports=C():"function"===typeof define&&define.amd?define([],C):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).algoliasearch=C()})(function(){return function c(k,f,n){function g(d,h){if(!f[d]){if(!k[d]){var m="function"==typeof require&&require;if(!h&&m)return m(d,!0);if(b)return b(d,!0);m=Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m;}m=f[d]=
{exports:{}};k[d][0].call(m.exports,function(b){var h=k[d][1][b];return g(h?h:b)},m,m.exports,c,k,f,n)}return f[d].exports}for(var b="function"==typeof require&&require,h=0;h<n.length;h++)g(n[h]);return g}({1:[function(c,k,f){function n(){if(!h){h=!0;for(var d,g=b.length;g;){d=b;b=[];for(var c=-1;++c<g;)d[c]();g=b.length}h=!1}}function g(){}c=k.exports={};var b=[],h=!1;c.nextTick=function(d){b.push(d);h||setTimeout(n,0)};c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version="";c.versions={};
c.on=g;c.addListener=g;c.once=g;c.off=g;c.removeListener=g;c.removeAllListeners=g;c.emit=g;c.binding=function(d){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(d){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},{}],2:[function(c,k,f){k.exports=function(g,b,h,d){h=h||"=";var c={};if("string"!==typeof g||0===g.length)return c;var f=/\+/g;g=g.split(b||"&");b=1E3;d&&"number"===typeof d.maxKeys&&(b=d.maxKeys);d=g.length;0<b&&
d>b&&(d=b);for(b=0;b<d;++b){var p=g[b].replace(f,"%20"),k=p.indexOf(h),q;0<=k?(q=p.substr(0,k),p=p.substr(k+1)):(q=p,p="");q=decodeURIComponent(q);p=decodeURIComponent(p);Object.prototype.hasOwnProperty.call(c,q)?n(c[q])?c[q].push(p):c[q]=[c[q],p]:c[q]=p}return c};var n=Array.isArray||function(g){return"[object Array]"===Object.prototype.toString.call(g)}},{}],3:[function(c,k,f){function n(d,b){if(d.map)return d.map(b);for(var g=[],h=0;h<d.length;h++)g.push(b(d[h],h));return g}var g=function(d){switch(typeof d){case "string":return d;
case "boolean":return d?"true":"false";case "number":return isFinite(d)?d:"";default:return""}};k.exports=function(d,c,f,p){c=c||"&";f=f||"=";null===d&&(d=void 0);return"object"===typeof d?n(h(d),function(h){var p=encodeURIComponent(g(h))+f;return b(d[h])?n(d[h],function(a){return p+encodeURIComponent(g(a))}).join(c):p+encodeURIComponent(g(d[h]))}).join(c):p?encodeURIComponent(g(p))+f+encodeURIComponent(g(d)):""};var b=Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)},
h=Object.keys||function(d){var b=[],h;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&b.push(h);return b}},{}],4:[function(c,k,f){f.decode=f.parse=c(2);f.encode=f.stringify=c(3)},{2:2,3:3}],5:[function(c,k,f){function n(){var b;try{b=g.debug}catch(d){}return b}f=k.exports=c(6);f.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};f.formatArgs=function(){var b=arguments,d=this.useColors;b[0]=(d?"%c":"")+this.namespace+(d?
" %c":" ")+b[0]+(d?"%c ":" ")+"+"+f.humanize(this.diff);if(!d)return b;var d="color: "+this.color,b=[b[0],d,"color: inherit"].concat(Array.prototype.slice.call(b,1)),g=0,c=0;b[0].replace(/%[a-z%]/g,function(b){"%%"!==b&&(g++,"%c"===b&&(c=g))});b.splice(c,0,d);return b};f.save=function(b){try{null==b?g.removeItem("debug"):g.debug=b}catch(d){}};f.load=n;f.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||
navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var g;if("undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage)g=chrome.storage.local;else a:{try{g=window.localStorage;break a}catch(b){}g=void 0}f.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");f.formatters.j=function(b){return JSON.stringify(b)};f.enable(n())},{6:6}],6:[function(c,k,f){f=k.exports=function(b){function h(){}function d(){var b=+new Date;d.diff=
b-(g||b);d.prev=g;g=d.curr=b;null==d.useColors&&(d.useColors=f.useColors());null==d.color&&d.useColors&&(d.color=f.colors[n++%f.colors.length]);var c=Array.prototype.slice.call(arguments);c[0]=f.coerce(c[0]);"string"!==typeof c[0]&&(c=["%o"].concat(c));var h=0;c[0]=c[0].replace(/%([a-z%])/g,function(b,a){if("%%"===b)return b;h++;var e=f.formatters[a];"function"===typeof e&&(b=e.call(d,c[h]),c.splice(h,1),h--);return b});"function"===typeof f.formatArgs&&(c=f.formatArgs.apply(d,c));(d.log||f.log||
console.log.bind(console)).apply(d,c)}h.enabled=!1;d.enabled=!0;var c=f.enabled(b)?d:h;c.namespace=b;return c};f.coerce=function(b){return b instanceof Error?b.stack||b.message:b};f.disable=function(){f.enable("")};f.enable=function(b){f.save(b);for(var c=(b||"").split(/[\s,]+/),d=c.length,g=0;g<d;g++)c[g]&&(b=c[g].replace(/\*/g,".*?"),"-"===b[0]?f.skips.push(new RegExp("^"+b.substr(1)+"$")):f.names.push(new RegExp("^"+b+"$")))};f.enabled=function(b){var c,d;c=0;for(d=f.skips.length;c<d;c++)if(f.skips[c].test(b))return!1;
c=0;for(d=f.names.length;c<d;c++)if(f.names[c].test(b))return!0;return!1};f.humanize=c(7);f.names=[];f.skips=[];f.formatters={};var n=0,g},{7:7}],7:[function(c,k,f){function n(b){if(b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(b)){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*
c;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*c;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*c;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return c}}}function g(b,c,d){if(!(b<c))return b<1.5*c?Math.floor(b/c)+" "+d:Math.ceil(b/c)+" "+d+"s"}k.exports=function(b,c){c=c||{};return"string"==typeof b?n(b):c.long?g(b,864E5,"day")||g(b,36E5,"hour")||g(b,6E4,"minute")||g(b,1E3,"second")||b+" ms":864E5<=b?Math.round(b/864E5)+
"d":36E5<=b?Math.round(b/36E5)+"h":6E4<=b?Math.round(b/6E4)+"m":1E3<=b?Math.round(b/1E3)+"s":b+"ms"}},{}],8:[function(c,k,f){(function(c,g){(function(){function b(a){return"function"===typeof a}function f(){return function(){c.nextTick(p)}}function d(){var a=0,e=new I(p),l=document.createTextNode("");e.observe(l,{characterData:!0});return function(){l.data=a=++a%2}}function r(){var a=new MessageChannel;a.port1.onmessage=p;return function(){a.port2.postMessage(0)}}function m(){return function(){setTimeout(p,
1)}}function p(){for(var a=0;a<z;a+=2)(0,B[a])(B[a+1]),B[a]=void 0,B[a+1]=void 0;z=0}function w(){}function q(a,e,l,b){try{a.call(e,l,b)}catch(c){return c}}function a(a,e,b){D(function(a){var c=!1,d=q(b,e,function(b){c||(c=!0,e!==b?l(a,b):v(a,b))},function(e){c||(c=!0,u(a,e))},"Settle: "+(a._label||" unknown promise"));!c&&d&&(c=!0,u(a,d))},a)}function e(a,e){1===e._state?v(a,e._result):2===a._state?u(a,e._result):E(e,void 0,function(e){l(a,e)},function(e){u(a,e)})}function l(l,c){if(l===c)u(l,new TypeError("You cannot resolve a promise with itself"));
else if("function"===typeof c||"object"===typeof c&&null!==c)if(c.constructor===l.constructor)e(l,c);else{var d;try{d=c.then}catch(g){F.error=g,d=F}d===F?u(l,F.error):void 0===d?v(l,c):b(d)?a(l,c,d):v(l,c)}else v(l,c)}function t(a){a._onerror&&a._onerror(a._result);G(a)}function v(a,e){void 0===a._state&&(a._result=e,a._state=1,0!==a._subscribers.length&&D(G,a))}function u(a,e){void 0===a._state&&(a._state=2,a._result=e,D(t,a))}function E(a,e,l,b){var c=a._subscribers,d=c.length;a._onerror=null;c[d]=
e;c[d+1]=l;c[d+2]=b;0===d&&a._state&&D(G,a)}function G(a){var e=a._subscribers,l=a._state;if(0!==e.length){for(var b,c,d=a._result,g=0;g<e.length;g+=3)b=e[g],c=e[g+l],b?J(l,b,c,d):c(d);a._subscribers.length=0}}function K(){this.error=null}function J(a,e,c,d){var g=b(c),t,f,h,m;if(g){try{t=c(d)}catch(k){H.error=k,t=H}t===H?(m=!0,f=t.error,t=null):h=!0;if(e===t){u(e,new TypeError("A promises callback cannot return that same promise."));return}}else t=d,h=!0;void 0===e._state&&(g&&h?l(e,t):m?u(e,f):
1===a?v(e,t):2===a&&u(e,t))}function N(a,e){try{e(function(e){l(a,e)},function(e){u(a,e)})}catch(b){u(a,b)}}function y(a,e,l,b){this._instanceConstructor=a;this.promise=new a(w,b);this._abortOnReject=l;this._validateInput(e)?(this._input=e,this._remaining=this.length=e.length,this._init(),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&v(this.promise,this._result))):u(this.promise,this._validationError())}function x(a){this._id=O++;this._result=
this._state=void 0;this._subscribers=[];if(w!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof x))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");N(this,a)}}var L=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},z=0,D=function(a,e){B[z]=a;B[z+1]=e;z+=2;2===z&&M()},A=
"undefined"!==typeof window?window:{},I=A.MutationObserver||A.WebKitMutationObserver,A="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,B=Array(1E3),M;M="undefined"!==typeof c&&"[object process]"==={}.toString.call(c)?f():I?d():A?r():m();var F=new K,H=new K;y.prototype._validateInput=function(a){return L(a)};y.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};y.prototype._init=function(){this._result=
Array(this.length)};y.prototype._enumerate=function(){for(var a=this.length,e=this.promise,l=this._input,b=0;void 0===e._state&&b<a;b++)this._eachEntry(l[b],b)};y.prototype._eachEntry=function(a,e){var l=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===l&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,e,a._result)):this._willSettleAt(l.resolve(a),e):(this._remaining--,this._result[e]=this._makeResult(1,e,a))};y.prototype._settledAt=function(a,e,l){var b=this.promise;
void 0===b._state&&(this._remaining--,this._abortOnReject&&2===a?u(b,l):this._result[e]=this._makeResult(a,e,l));0===this._remaining&&v(b,this._result)};y.prototype._makeResult=function(a,e,l){return l};y.prototype._willSettleAt=function(a,e){var l=this;E(a,void 0,function(a){l._settledAt(1,e,a)},function(a){l._settledAt(2,e,a)})};var O=0;x.all=function(a,e){return(new y(this,a,!0,e)).promise};x.race=function(a,e){function b(a){l(d,a)}function c(a){u(d,a)}var d=new this(w,e);if(!L(a))return u(d,new TypeError("You must pass an array to race.")),
d;for(var g=a.length,t=0;void 0===d._state&&t<g;t++)E(this.resolve(a[t]),void 0,b,c);return d};x.resolve=function(a,e){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(w,e);l(b,a);return b};x.reject=function(a,e){var l=new this(w,e);u(l,a);return l};x.prototype={constructor:x,then:function(a,e){var l=this._state;if(1===l&&!a||2===l&&!e)return this;var b=new this.constructor(w),c=this._result;if(l){var d=arguments[l-1];D(function(){J(l,b,d,c)})}else E(this,b,a,e);return b},"catch":function(a){return this.then(null,
a)}};A={Promise:x,polyfill:function(){var a;a="undefined"!==typeof g?g:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var e;new a.Promise(function(a){e=a});return b(e)}()||(a.Promise=x)}};"undefined"!==typeof k&&k.exports?k.exports=A:"undefined"!==typeof this&&(this.ES6Promise=A)}).call(this)}).call(this,c(1),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{1:1}],9:[function(c,k,f){var n=Object.prototype.hasOwnProperty,g=Object.prototype.toString,b=function(b){return"function"===typeof Array.isArray?Array.isArray(b):"[object Array]"===g.call(b)},h=function(b){if(!b||"[object Object]"!==g.call(b))return!1;var c=n.call(b,"constructor"),f=b.constructor&&b.constructor.prototype&&n.call(b.constructor.prototype,"isPrototypeOf");if(b.constructor&&!c&&!f)return!1;for(var h in b);return void 0===h||n.call(b,h)};k.exports=function r(){var c,
g,f,k,a,e=arguments[0],l=1,t=arguments.length,v=!1;if("boolean"===typeof e)v=e,e=arguments[1]||{},l=2;else if("object"!==typeof e&&"function"!==typeof e||null==e)e={};for(;l<t;++l)if(c=arguments[l],null!=c)for(g in c)f=e[g],k=c[g],e!==k&&(v&&k&&(h(k)||(a=b(k)))?(a?(a=!1,f=f&&b(f)?f:[]):f=f&&h(f)?f:{},e[g]=r(v,f,k)):void 0!==k&&(e[g]=k));return e}},{}],10:[function(c,k,f){var n=Object.prototype.hasOwnProperty,g=Object.prototype.toString;k.exports=function(b,c,d){if("[object Function]"!==g.call(c))throw new TypeError("iterator must be a function");
var f=b.length;if(f===+f)for(var k=0;k<f;k++)c.call(d,b[k],k,b);else for(k in b)n.call(b,k)&&c.call(d,b[k],k,b)}},{}],11:[function(c,k,f){k.exports="function"===typeof Object.create?function(c,g){c.super_=g;c.prototype=Object.create(g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:function(c,g){c.super_=g;var b=function(){};b.prototype=g.prototype;c.prototype=new b;c.prototype.constructor=c}},{}],12:[function(c,k,f){function n(a,e,l){var d=c(9);if(!a)throw new q.AlgoliaSearchError("Please provide an application ID. Usage: algoliasearch(applicationID, apiKey, opts)");
if(!e)throw new q.AlgoliaSearchError("Please provide an API key. Usage: algoliasearch(applicationID, apiKey, opts)");this.applicationID=a;this.apiKey=e;a=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]};this.hostIndex={read:0,write:0};l=l||{};e=l.protocol||"https:";var f=void 0===l.timeout?2E3:l.timeout;/:$/.test(e)||(e+=":");if("http:"!==l.protocol&&"https:"!==l.protocol)throw new q.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+
l.protocol+"`)");l.hosts?(this.hosts.read=d([],l.hosts),this.hosts.write=d([],l.hosts)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(a),this.hosts.write=[this.applicationID+".algolia.net"].concat(a));this.hosts.read=g(this.hosts.read,b(e));this.hosts.write=g(this.hosts.write,b(e));this.requestTimeout=f;this.extraHeaders=[];this.cache={};this._ua=l._ua;this._useCache=void 0===l._useCache?!0:l._useCache;this._setTimeout=l._setTimeout;p("init done, %j",this)}function g(a,e){for(var b=
[],c=0;c<a.length;++c)b.push(e(a[c],c));return b}function b(a){return function(e){return a+"//"+e.toLowerCase()}}function h(){throw new q.AlgoliaSearchError("Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com");}function d(a,e){var b=a.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+a+"` was replaced by `"+e+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+b}function r(a,e){e(a,0)}function m(a,
e){var b=!1;return function(){b||(console.log(e),b=!0);return a.apply(this,arguments)}}k.exports=n;var p=c(5)("algoliasearch"),w=c(10),q=c(17);n.prototype={deleteIndex:function(a,e){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(a),hostType:"write",callback:e})},moveIndex:function(a,e,b){e={operation:"move",destination:e};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a)+"/operation",body:e,hostType:"write",callback:b})},copyIndex:function(a,
e,b){e={operation:"copy",destination:e};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a)+"/operation",body:e,hostType:"write",callback:b})},getLogs:function(a,e,b){if(0===arguments.length||"function"===typeof a)b=a,a=0,e=10;else if(1===arguments.length||"function"===typeof e)b=e,e=10;return this._jsonRequest({method:"GET",url:"/1/logs?offset="+a+"&length="+e,hostType:"read",callback:b})},listIndexes:function(a,e){var b="";void 0===a||"function"===typeof a?e=a:b="?page="+
a;return this._jsonRequest({method:"GET",url:"/1/indexes"+b,hostType:"read",callback:e})},initIndex:function(a){return new this.Index(this,a)},listUserKeys:function(a){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:a})},getUserKeyACL:function(a,e){return this._jsonRequest({method:"GET",url:"/1/keys/"+a,hostType:"read",callback:e})},deleteUserKey:function(a,e){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+a,hostType:"write",callback:e})},addUserKey:function(a,
e,b){if(1===arguments.length||"function"===typeof e)b=e,e=null;var c={acl:a};e&&(c.validity=e.validity,c.maxQueriesPerIPPerHour=e.maxQueriesPerIPPerHour,c.maxHitsPerQuery=e.maxHitsPerQuery,c.indexes=e.indexes,c.description=e.description,e.queryParameters&&(c.queryParameters=this._getSearchParams(e.queryParameters,"")),c.referers=e.referers);return this._jsonRequest({method:"POST",url:"/1/keys",body:c,hostType:"write",callback:b})},addUserKeyWithValidity:m(function(a,e,b){return this.addUserKey(a,
e,b)},d("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(a,e,b,c){if(2===arguments.length||"function"===typeof b)c=b,b=null;var d={acl:e};b&&(d.validity=b.validity,d.maxQueriesPerIPPerHour=b.maxQueriesPerIPPerHour,d.maxHitsPerQuery=b.maxHitsPerQuery,d.indexes=b.indexes,d.description=b.description,b.queryParameters&&(d.queryParameters=this._getSearchParams(b.queryParameters,"")),d.referers=b.referers);return this._jsonRequest({method:"PUT",url:"/1/keys/"+a,body:d,hostType:"write",
callback:c})},setSecurityTags:function(a){if("[object Array]"===Object.prototype.toString.call(a)){for(var e=[],b=0;b<a.length;++b)if("[object Array]"===Object.prototype.toString.call(a[b])){for(var c=[],d=0;d<a[b].length;++d)c.push(a[b][d]);e.push("("+c.join(",")+")")}else e.push(a[b]);a=e.join(",")}this.securityTags=a},setUserToken:function(a){this.userToken=a},startQueriesBatch:m(function(){this._batch=[]},d("client.startQueriesBatch()","client.search()")),addQueryInBatch:m(function(a,e,b){this._batch.push({indexName:a,
query:e,params:b})},d("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:m(function(a){return this.search(this._batch,a)},d("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(a){a&&(this.requestTimeout=parseInt(a,10))},search:function(a,e){var b=this,c={requests:g(a,function(a){var e="";void 0!==a.query&&(e+="query="+encodeURIComponent(a.query));return{indexName:a.indexName,params:b._getSearchParams(a.params,e)}})};return this._jsonRequest({cache:this.cache,
method:"POST",url:"/1/indexes/*/queries",body:c,hostType:"read",callback:e})},batch:function(a,e){return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:a},hostType:"write",callback:e})},destroy:h,enableRateLimitForward:h,disableRateLimitForward:h,useSecuredAPIKey:h,disableSecuredAPIKey:h,generateSecuredApiKey:h,Index:function(a,e){this.indexName=e;this.as=a;this.typeAheadValueOption=this.typeAheadArgs=null;this.cache={}},setExtraHeader:function(a,e){this.extraHeaders.push({name:a.toLowerCase(),
value:e})},_sendQueriesBatch:function(a,e){return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:a,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:function(){for(var e="",b=0;b<a.requests.length;++b)var c="/1/indexes/"+encodeURIComponent(a.requests[b].indexName)+"?"+a.requests[b].params,e=e+(b+"="+encodeURIComponent(c)+"&");return e}()}},callback:e})},_jsonRequest:function(a){function e(c,m){function n(){f.hostIndex[a.hostType]=++f.hostIndex[a.hostType]%
f.hosts[a.hostType].length;h+=1;m.timeout=f.requestTimeout*(h+1);return e(c,m)}var p;f._useCache&&(p=a.url);f._useCache&&d&&(p+="_body_"+m.body);if(f._useCache&&g&&void 0!==g[p])return b("serving response from cache"),f._promise.resolve(JSON.parse(JSON.stringify(g[p])));if(h>=f.hosts[a.hostType].length){if(!a.fallback||!f._request.fallback||k)return f._promise.reject(new q.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue."));
h=0;m.method=a.fallback.method;m.url=a.fallback.url;m.jsonBody=a.fallback.body;m.jsonBody&&(m.body=JSON.stringify(a.fallback.body));m.timeout=f.requestTimeout*(h+1);f.hostIndex[a.hostType]=0;k=f.useFallback=!0;return e(f._request.fallback,m)}return c.call(f,f.hosts[a.hostType][f.hostIndex[a.hostType]]+m.url,{body:d,jsonBody:a.body,method:m.method,headers:f._computeRequestHeaders(),timeout:m.timeout,debug:b}).then(function(a){b("received response: %j",a);var e=a&&a.body&&a.body.message&&a.body.status||
a.statusCode||a&&a.body&&200,c=200===e||201===e,e=!c&&4!==Math.floor(e/100)&&1!==Math.floor(e/100);f._useCache&&c&&g&&(g[p]=a.body);if(c)return a.body;if(e)return n();a=new q.AlgoliaSearchError(a.body&&a.body.message);return f._promise.reject(a)},function(d){b("error: %s, stack: %s",d.message,d.stack);if(d instanceof q.RequestTimeout)return b("timedout"),n();d instanceof q.AlgoliaSearchError||(d=new q.Unknown(d&&d.message,d));if(d instanceof q.Unknown||d instanceof q.UnparsableJSON||!c.fallback&&
d instanceof q.Network)return f._promise.reject(d);f.useFallback?(f.hostIndex[a.hostType]=++f.hostIndex[a.hostType]%f.hosts[a.hostType].length,h+=1):h=f.hosts[a.hostType].length;return e(c,m)})}var b=c(5)("algoliasearch:"+a.url),d,g=a.cache,f=this,h=0,k=!1;void 0!==a.body&&(d=JSON.stringify(a.body));b("request start");var m=f.useFallback&&a.fallback,n=m?a.fallback:a,m=e(m?f._request.fallback:f._request,{url:n.url,method:n.method,body:d,jsonBody:a.body,timeout:f.requestTimeout*(h+1)});if(a.callback)m.then(function(e){r(function(){a.callback(null,
e)},f._setTimeout||setTimeout)},function(e){r(function(){a.callback(e)},f._setTimeout||setTimeout)});else return m},_getSearchParams:function(a,e){if(this._isUndefined(a)||null===a)return e;for(var b in a)null!==b&&a.hasOwnProperty(b)&&(e+=""===e?"":"&",e+=b+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(a[b])?JSON.stringify(a[b]):a[b]));return e},_isUndefined:function(a){return void 0===a},_computeRequestHeaders:function(){var a={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,
"x-algolia-agent":this._ua};this.userToken&&(a["x-algolia-usertoken"]=this.userToken);this.securityTags&&(a["x-algolia-tagfilters"]=this.securityTags);this.extraHeaders&&w(this.extraHeaders,function(e){a[e.name]=e.value});return a}};n.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(a,e,b){if(1===arguments.length||"function"===typeof e)b=e,e=void 0;return this.as._jsonRequest({method:void 0!==e?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+(void 0!==
e?"/"+encodeURIComponent(e):""),body:a,hostType:"write",callback:b})},addObjects:function(a,e){for(var b={requests:[]},c=0;c<a.length;++c)b.requests.push({action:"addObject",body:a[c]});return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:b,hostType:"write",callback:e})},getObject:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var d="";if(void 0!==b)for(var d="?attributes=",g=0;g<b.length;++g)0!==g&&(d+=","),d+=
b[g];return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a)+d,hostType:"read",callback:c})},getObjects:function(a,b,c){var d=this;if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var f={requests:g(a,function(a){a={indexName:d.indexName,objectID:a};b&&(a.attributesToRetrieve=b.join(","));return a})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:f,callback:c})},partialUpdateObject:function(a,
b){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a.objectID)+"/partial",body:a,hostType:"write",callback:b})},partialUpdateObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"partialUpdateObject",objectID:a[d].objectID,body:a[d]});return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,hostType:"write",callback:b})},saveObject:function(a,
b){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a.objectID),body:a,hostType:"write",callback:b})},saveObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"updateObject",objectID:a[d].objectID,body:a[d]});return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,hostType:"write",callback:b})},deleteObject:function(a,b){if("function"===typeof a||
"string"!==typeof a&&"number"!==typeof a){var c=new q.AlgoliaSearchError("Cannot delete an object without an objectID");b=a;return"function"===typeof b?b(c):this.as._promise.reject(c)}return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a),hostType:"write",callback:b})},deleteObjects:function(a,b){var c={requests:g(a,function(a){return{action:"deleteObject",objectID:a,body:{objectID:a}}})};return this.as._jsonRequest({method:"POST",
url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,hostType:"write",callback:b})},deleteByQuery:function(a,b,c){function d(a){return h.waitTask(a.taskID)}function f(){return h.deleteByQuery(a,b)}var h=this,k=h.as;if(1===arguments.length||"function"===typeof b)c=b,b={};b.attributesToRetrieve="objectID";b.hitsPerPage=1E3;this.clearCache();var m=this.search(a,b).then(function(a){if(0===a.nbHits)return a;a=g(a.hits,function(a){return a.objectID});return h.deleteObjects(a).then(d).then(f)});
if(!c)return m;m.then(function(){r(function(){c(null)},k._setTimeout||setTimeout)},function(a){r(function(){c(a)},k._setTimeout||setTimeout)})},search:function(a,b,c){if("function"===typeof a&&"object"===typeof b||"object"===typeof c)throw new q.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");if(0===arguments.length||"function"===typeof a)c=a,a="";else if(1===arguments.length||"function"===typeof b)c=b,b=void 0;if("object"===typeof a&&null!==a)b=a,a=void 0;else if(void 0===
a||null===a)a="";var d="";void 0!==a&&(d+="query="+encodeURIComponent(a));void 0!==b&&(d=this.as._getSearchParams(b,d));return this._search(d,c)},browse:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var d="?page="+a;this.as._isUndefined(b)||(d+="&hitsPerPage="+b);return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse"+d,hostType:"read",callback:c})},ttAdapter:function(a){var b=this;return function(c,d){b.search(c,a,function(a,
b){a?d(a):d(b.hits)})}},waitTask:function(a,b){var c=this,d=c.as,g=this.as._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/task/"+a}).then(function(b){return"published"!==b.status?c.as._promise.delay(100).then(function(){return c.waitTask(a)}):b});if(!b)return g;g.then(function(a){r(function(){b(null,a)},d._setTimeout||setTimeout)},function(a){r(function(){b(a)},d._setTimeout||setTimeout)})},clearIndex:function(a){return this.as._jsonRequest({method:"POST",
url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/clear",hostType:"write",callback:a})},getSettings:function(a){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings",hostType:"read",callback:a})},setSettings:function(a,b){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings",hostType:"write",body:a,callback:b})},listUserKeys:function(a){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+
encodeURIComponent(this.indexName)+"/keys",hostType:"read",callback:a})},getUserKeyACL:function(a,b){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,hostType:"read",callback:b})},deleteUserKey:function(a,b){return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,hostType:"write",callback:b})},addUserKey:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=null;var d={acl:a};
b&&(d.validity=b.validity,d.maxQueriesPerIPPerHour=b.maxQueriesPerIPPerHour,d.maxHitsPerQuery=b.maxHitsPerQuery,d.description=b.description,b.queryParameters&&(d.queryParameters=this.as._getSearchParams(b.queryParameters,"")),d.referers=b.referers);return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:d,hostType:"write",callback:c})},addUserKeyWithValidity:m(function(a,b,c){return this.addUserKey(a,b,c)},d("index.addUserKeyWithValidity()","index.addUserKey()")),
updateUserKey:function(a,b,c,d){if(2===arguments.length||"function"===typeof c)d=c,c=null;var g={acl:b};c&&(g.validity=c.validity,g.maxQueriesPerIPPerHour=c.maxQueriesPerIPPerHour,g.maxHitsPerQuery=c.maxHitsPerQuery,g.description=c.description,c.queryParameters&&(g.queryParameters=this.as._getSearchParams(c.queryParameters,"")),g.referers=c.referers);return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,body:g,hostType:"write",callback:d})},_search:function(a,
b){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:a},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:a}},callback:b})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}},{10:10,17:17,5:5,9:9}],13:[function(c,k,f){k.exports=function(c,b,f){function d(){b.debug("JSONP: success");v||a||(v=!0,q||(b.debug("JSONP: Fail. Script loaded but did not call the callback"),
m(),f(Error("Failed to load JSONP script"))))}function k(){"loaded"!==this.readyState&&"complete"!==this.readyState||d()}function m(){clearTimeout(u);l.onload=null;l.onreadystatechange=null;l.onerror=null;e.removeChild(l);try{delete window[t],delete window[t+"_loaded"]}catch(a){window[t]=null,window[t+"_loaded"]=null}}function p(){b.debug("JSONP: Script timeout");a=!0;m();f(Error("Timeout - Could not connect to endpoint "+c))}function w(){b.debug("JSONP: Script error");v||a||(m(),f(Error("Failed to load JSONP script")))}
if("GET"!==b.method)f(Error("Method "+b.method+" "+c+" is not supported by JSONP."));else{b.debug("JSONP: start");var q=!1,a=!1;n+=1;var e=document.getElementsByTagName("head")[0],l=document.createElement("script"),t="algoliaJSONP_"+n,v=!1;window[t]=function(b){try{delete window[t]}catch(c){window[t]=void 0}a||(q=!0,m(),f(null,{body:b}))};c+="&callback="+t;b.jsonBody&&b.jsonBody.params&&(c+="&"+b.jsonBody.params);var u=setTimeout(p,b.timeout);l.onreadystatechange=k;l.onload=d;l.onerror=w;l.async=
!0;l.defer=!0;l.src=c;e.appendChild(l)}};var n=0},{}],14:[function(c,k,f){(function(f){function g(a,d,e){var f=c(9),h=c(15);e=f(!0,{},e)||{};void 0===e.protocol&&(e.protocol=h());e._ua=g.ua;return new b(a,d,e)}function b(){r.apply(this,arguments)}k.exports=g;var h=c(11),d=f.Promise||c(8).Promise,r=c(12),m=c(17),p=c(16),w=c(13);g.version=c(18);g.ua="Algolia for vanilla JavaScript "+g.version;var q="XDomainRequest"in window,a="withCredentials"in new XMLHttpRequest,e="timeout"in new XMLHttpRequest;h(b,
r);b.prototype._request=function(b,c){return new d(function(d,f){function g(){if(!x){e||clearTimeout(w);var a;try{a={body:JSON.parse(r.responseText),statusCode:r.status}}catch(b){a=new m.UnparsableJSON({more:r.responseText})}a instanceof m.UnparsableJSON?f(a):d(a)}}function h(a){x||(e||clearTimeout(w),f(new m.Network({more:a})))}function k(){e||(x=!0,r.abort());f(new m.RequestTimeout)}if(a||q){b=p(b,c.headers);var n=c.body,r=a?new XMLHttpRequest:new XDomainRequest,w,x;r instanceof XMLHttpRequest?
r.open(c.method,b,!0):r.open(c.method,b);a&&n&&"GET"!==c.method&&r.setRequestHeader("content-type","application/x-www-form-urlencoded");r.onprogress=function(){};r.onload=g;r.onerror=h;e?(r.timeout=c.timeout,r.ontimeout=k):w=setTimeout(k,c.timeout);r.send(n)}else f(new m.Network("CORS not supported"))})};b.prototype._request.fallback=function(a,b){a=p(a,b.headers);return new d(function(c,d){w(a,b,function(a,b){a?d(new m.JSONP(a.message)):c(b)})})};b.prototype._promise={reject:function(a){return d.reject(a)},
resolve:function(a){return d.resolve(a)},delay:function(a){return new d(function(b){setTimeout(b,a)})}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{11:11,12:12,13:13,15:15,16:16,17:17,18:18,8:8,9:9}],15:[function(c,k,f){(function(c){k.exports=function(){var f=c.document.location.protocol;"http:"!==f&&"https:"!==f&&(f="http:");return f}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],16:[function(c,k,f){k.exports=function(c,b){c=/\?/.test(c)?c+"&":c+"?";return c+n.encode(b)};var n=c(4)},{4:4}],17:[function(c,k,f){function n(c,f){var g=this;"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):g.stack=Error().stack||"Cannot get a stacktrace, browser is too old";this.name=this.constructor.name;this.message=c||"Unknown error";f&&b(f,function(b,c){g[c]=b})}function g(b,c){function f(){var g=Array.prototype.slice.call(arguments,
0);"string"!==typeof g[0]&&g.unshift(c);n.apply(this,g);this.name="AlgoliaSearch"+b+"Error"}h(f,n);return f}var b=c(10),h=c(11);h(n,Error);k.exports={AlgoliaSearchError:n,UnparsableJSON:g("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:g("RequestTimeout","Request timedout before getting a response"),Network:g("Network","Network issue, see err.more for details"),JSONP:g("JSONP","JSONP failed"),Unknown:g("Unknown","Unknown error occured")}},
{10:10,11:11}],18:[function(c,k,f){k.exports="3.4.0"},{}]},{},[14])(14)});
